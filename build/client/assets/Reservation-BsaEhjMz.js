var g=Object.defineProperty;var S=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var n=(e,t,r)=>S(e,typeof t!="symbol"?t+"":t,r);import{j as i,p as m,F as x}from"./components-BAKIzCgY.js";function d(e){const t=f=>f.toString().padStart(2,"0");if(e==null)return"";e=new Date(e);const r=e.getFullYear(),o=t(e.getMonth()+1),l=t(e.getDate()),s=t(e.getHours()),u=t(e.getMinutes());return`${r}-${o}-${l}T${s}:${u}`}const h=[{id:1,name:"W210",building:"Dupre",title:"W210"},{id:2,name:"W212",building:"Dupre",title:"W212"},{id:3,name:"WCC",building:"Dupre",title:"CIS Conference Room"}];function y(){return Array.from(h.values())}function b(e){return console.log(e),h.find(t=>t.name===e)}const a=class a{constructor(t,r,o,l,s,u){n(this,"id");n(this,"title");n(this,"roomID");n(this,"room");n(this,"start");n(this,"end");this.id=t,this.title=r,this.roomID=o,this.room=l,this.start=s,this.end=u}static factory(t){if(t==null)return null;if(typeof t=="string"&&(t=JSON.parse(t),!t.title||!t.room||!t.start||!t.end))throw new Error("Invalid JSON: missing required fields");return Array.isArray(t)?t.map(r=>a.factory(r)):new a(t.id,t.title,t.room_id,t.room,new Date(t.start),new Date(t.end))}toString(){return`${this.title} in ${this.room} from ${this.start.toLocaleString("en-US",{hour:"numeric",minute:"2-digit"})} to ${this.end.toLocaleString("en-US",{hour:"numeric",minute:"2-digit"})}`}render(){return i.jsx(v,{id:this.id,title:this.title,room:this.room,start:this.start,end:this.end})}isValid(){let t=!0;return this.title==""&&(t=!1),this.roomID==-1&&(t=!1),this.start==null&&(t=!1),this.end==null&&(t=!1),this.start>=this.end&&(t=!1),t}};n(a,"empty",()=>new a(-1,"",-1,"",new Date,new Date));let c=a;const v=(e,t=!1)=>{if(t)var r=e.start.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),o=e.end.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});else var r=e.start.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",month:"short",day:"numeric",year:"numeric"}),o=e.end.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",month:"short",day:"numeric",year:"numeric"});return i.jsxs("div",{className:"event",children:[i.jsxs("h1",{children:[i.jsx("u",{children:e.title})," in ",e.room]},"title"),i.jsxs("h2",{children:[r," - ",o]},"time"),i.jsx(m,{to:`/reservation/${e.id}`,children:i.jsx("button",{children:"Details"})}),i.jsx(m,{to:`/reservation/${e.id}/edit`,children:i.jsx("button",{children:"Edit"})})]},"{props.title}")},w=e=>i.jsxs(x,{method:"PUT",onChange:e.onChange,onSubmit:e.onSubmit,className:"reservationForm",children:[i.jsx("input",{title:"title",name:"title",type:"text",defaultValue:e.title}),i.jsxs("select",{title:"room",name:"room",defaultValue:e.roomID,children:[i.jsx("option",{value:-1,children:"Select a room"}),Array.from(y().entries()).map(([t,r])=>i.jsx("option",{value:t,children:r},t))]}),i.jsx("input",{title:"start",name:"start",type:"datetime-local",defaultValue:d(e.start)}),i.jsx("input",{title:"end",name:"end",type:"datetime-local",defaultValue:d(e.end)}),i.jsx("button",{type:"submit",children:"Submit"})]});export{c as R,w as a,b as g};
